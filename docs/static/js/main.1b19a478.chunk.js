(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(71)},30:function(e,t,n){},67:function(e,t){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(18),o=n.n(r),c=(n(30),n(5)),i=n(3),u=n.n(i),l=n(4),d=n(19),h=n(20),p=n(23),v=n(21),f=n(24),m=n(8),b=n.n(m),k={setToken:function(e){this.token=e},getIssues:function(){var e=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({url:"https://api.github.com/graphql",method:"post",headers:{Authorization:"bearer ".concat(this.token)},data:{query:'\n                  query {\n                    repository(owner:"drsmog", name:"devnote-storage") {\n                      issues(last:20) {\n                        totalCount\n                        edges {\n                          node {\n                            id\n                            title\n                            bodyText\n                          }\n                        }\n                      }\n                    }\n                  }\n                '}});case 2:return t=e.sent,e.abrupt("return",t.data.data.repository.issues.edges);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),createIssue:function(){var e=Object(l.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({url:"https://api.github.com/graphql",method:"post",headers:{Authorization:"bearer ".concat(this.token)},data:{query:'\n                mutation{\n                    createIssue(input:{\n                    repositoryId:"MDEwOlJlcG9zaXRvcnkxODIzOTYyNTI=",\n                    title:"'.concat(t.title,'"\n                    body:"').concat(t.bodyText,'"\n                    }) {\n                        issue {\n                            id\n                        }\n                    }\n                }')}});case 2:return n=e.sent,e.abrupt("return",n.data.data.createIssue.issue.id);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},y=n(22),I=n.n(y),g=(n(69),n(70),function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(s)))).editor=void 0,n.state={accessToken:"",issues:[],selectedIssue:{id:void 0,title:"",bodyText:""}},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=prompt("Please enter your access token","access token"))){e.next=5;break}return k.setToken(t),e.abrupt("break",7);case 5:e.next=0;break;case 7:return e.next=9,k.getIssues();case 9:n=e.sent,this.setState({issues:n}),n.length>0?this.onIssueSelect(n[0].node):this.onNewNote();case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleDescriptionChange",value:function(e){var t=Object(c.a)({},this.state.selectedIssue,{bodyText:e});this.setState({selectedIssue:t})}},{key:"handleTitleChange",value:function(e){var t=Object(c.a)({},this.state.selectedIssue,{title:e.target.value});this.setState({selectedIssue:t})}},{key:"onIssueSelect",value:function(e){this.setState({selectedIssue:e}),this.editor&&this.editor.render()}},{key:"onNewNote",value:function(){this.setState({selectedIssue:{id:null,title:"",bodyText:" "}})}},{key:"onSaveIssue",value:function(){var e=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.selectedIssue.id){e.next=7;break}return e.next=3,k.createIssue(this.state.selectedIssue);case 3:t=e.sent,this.setState({selectedIssue:Object(c.a)({},this.state.selectedIssue,{id:t})}),e.next=8;break;case 7:console.log("todo implement update");case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getInsance",value:function(e){this.editor=e}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 col-md-6"},s.a.createElement("ul",null,this.state.issues.map(function(t){var n=t.node;return s.a.createElement("li",{key:n.id,onClick:function(){return e.onIssueSelect(n)}},n.title)}))),s.a.createElement("div",{className:"col-sm-12 col-md-6"},s.a.createElement("button",{onClick:function(){return e.onNewNote()}},"New Note"),s.a.createElement("input",{type:"text",value:this.state.selectedIssue.title,onChange:function(t){return e.handleTitleChange(t)}}),s.a.createElement(I.a,{getMdeInstance:function(t){return e.getInsance(t)},onChange:function(t){return e.handleDescriptionChange(t)},value:this.state.selectedIssue.bodyText}),s.a.createElement("button",{onClick:function(){return e.onSaveIssue()}},"Save Changes")))))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.1b19a478.chunk.js.map